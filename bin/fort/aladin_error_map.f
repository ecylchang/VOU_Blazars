      PROGRAM aladin_error_map
c
c
      IMPLICIT none
      INTEGER*4 ier, lu_in, lu_in_ra, lu_script, lenact,i,ia,ii
c      INTEGER*4 lu_in2, lu_out,source_number,im,in,length
      INTEGER*4 lu_in2, lu_out,im,in,length
c      REAL*4 dummy, radius
      REAL*4 radius
c      REAL*8 ra, dec,ra_center,dec_center,ra2,dec2
      REAL*8 ra, dec,ra_center,dec_center
      CHARACTER*1 a0,a1,a2
      CHARACTER*200 input_file,input_file2,input_file_ra,output_file,string,script_file
      character*800 stringin
      LOGICAL there,ok

      CALL rdforn(stringin,length)
      CALL rmvlbk(stringin)
      in=index(stringin(1:length),' ')
      input_file_ra=stringin(1:in-1)
      im=index(stringin(in+1:length),' ')+in
      input_file=stringin(in+1:im-1)
      in=im
      im=index(stringin(in+1:length),' ')+in
      script_file=stringin(in+1:im-1)
      in=im
      im=index(stringin(in+1:length),' ')+in
      output_file=stringin(in+1:length)
      ok = .TRUE.
      lu_in = 10
      lu_in2 = 11
      lu_in_ra = 12
      lu_script = 13
      lu_out = 21
      a1 = "'"
      a2 = "}"
      a0 = "{"
      INQUIRE (FILE=input_file,EXIST=there)
      IF (.NOT.there) THEN
         write (*,'('' file '',a,'' not found '')')
     &     input_file(1:lenact(input_file))
         STOP
      ENDIF
      open(lu_script,file=script_file,status='old',iostat=ier)
      open(lu_in_ra,file=input_file_ra,status='old',iostat=ier)
      DO WHILE (ok) 
        read(lu_in_ra,'(a)') string 
        IF (string(11:16) == 'Dec. =') goto 199
      ENDDO  
 199  CONTINUE
      read(string(17:28),*) ra_center
      read(string(30:38),*) dec_center
      close (lu_in_ra)
      open(lu_in,file=input_file,status='old',iostat=ier)
      IF (ier.ne.0) THEN
        write (*,*) ' Error ',ier,' opening file ', input_file2
      ENDIF
      open(lu_out,file=output_file,status='unknown',iostat=ier)
c      write(lu_out,'(''<HTML style="background-color:#aaa9ad">'')')
      write(lu_out,'(''<HTML style="background-color:#ffffff">'')')
      write(lu_out,'(''<style>'')')
      write(lu_out,'(''sm {'')')
      write(lu_out,'(''  font-size: 15px;'')')
      write(lu_out,'(''}'')')
      write(lu_out,'(''body {'')') 
      write(lu_out,'('' font-family: Tahoma, sans-serif;'')')
      write(lu_out,'(''}'')')
      write(lu_out,'(''</style>'')')
      write(lu_out,'(''<HEAD>'')')
      write(lu_out,'(3x,''<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.1.min.js" charset="utf-8"></script>'')')
      write(lu_out,'(3x,''<link rel="stylesheet" href="https://aladin.u-strasbg.fr/AladinLite/api/v2/latest/aladin.min.css" >'')')
      write(lu_out,'(3x,''<script type="text/javascript">var jqMenu = jQuery.noConflict();</script>'')')
      write(lu_out,'(3x,''<script type="text/javascript">'')')
      write(lu_out,'(3x,''var hipsDir=null;</script>'')')
      write(lu_out,'(''</HEAD>'')')
      write(lu_out,'(''&emsp;&emsp;&emsp;&emsp;&emsp;'')')
c      write(lu_out,'(''<img class="logoImg" src="https://firmamentoo.web.app/static/media/logo.f6077154.png" alt="LOGO" width="150" height="45">'')')
      write(lu_out,'(''<script type="text/javascript" src="https://aladin.u-strasbg.fr/AladinLite/api/v2/latest/aladin.min.js"''
     &               '' charset="utf-8"></script>'')')
       write(lu_out,'(''<fieldset style="margin:5px 100px 30px; padding-bottom:30px; '',
     &                ''padding-top:15px; padding-left:15px; width:83vw; margin-bottom:10px; border-color:#11aaaa;">'')')
       write(lu_out,'(''<legend class='',a,''title'',a,''>SED error circles. Generated by VOU-Blazars for<sub><sub>'')')a1,a1
       write(lu_out,'(''<img class="logoImg" src="https://firmamentoo.web.app/static/media/logo.f6077154.png" alt="LOGO" width="100" height="30">'',
     &                ''</sub></sub>&emsp;&emsp;Based on "Aladin Lite" developed at CDS, Strasbourg Observatory, France<br></legend>'')') 
      write(lu_out,'(''<table><tr valign="top"><td>'')')
      write(lu_out,'(''<div id="aladin-lite-div" style="margin-left:20px; width:70vw; height:80vh;"></div>'')')
      write(lu_out,'(''</td><td><sm>'')')
      write(lu_out,'('' <b><center>Radio surveys</center></b><br>'')')
      IF (dec_center < -40.) THEN 
         write(lu_out,'(''<input id="SUMSS" type="radio"   name="survey" value="SUMSS"><label for="SUMSS">SUMSS</label><br>'')')
         IF (dec_center > -53.) THEN 
            write(lu_out,'(''<input id="TGSS ADR" type="radio"   name="survey" value="TGSS ADR"><label for="TGSS ADR">TGSS ADR</label><br>'')')
         ENDIF
      ELSE 
         write(lu_out,'(''<input id="NVSS" type="radio"   name="survey" value="NVSS"><label for="NVSS">NVSS</label><br>'')')
         write(lu_out,'(''<input id="VLASS_Epoch1" type="radio"   name="survey" value="VLASS_Epoch1"><label for="VLASS_Epoch1">VLASS-1</label><br>'')')
         write(lu_out,'(''<input id="VLASS2.2" type="radio"   name="survey" value="VLASS2.2"><label for="VLASS2.2">VLASS2.2</label><br>'')')
         write(lu_out,'(''<input id="VCSS1" type="radio"   name="survey" value="VCSS1"><label for="VCSS1">VCSS1</label><br>'')')
         write(lu_out,'(''<input id="TGSS ADR" type="radio"   name="survey" value="TGSS ADR"><label for="TGSS ADR">TGSS ADR</label><br>'')')
      ENDIF
      IF (dec_center < 40.) THEN 
         write(lu_out,'(''<input id="RACS" type="radio"   name="survey" value="RACS"><label for="RACS">RACS</label><br>'')')
      ENDIF 
      write(lu_out,'(''<br><b><center>IR surveys</center></b><br>'')')
      write(lu_out,'(''<input id="allwise" type="radio"   name="survey" value="P/allWISE/color"><label for="allwise">AllWISE</label><br>'')')
      write(lu_out,'(''<input id="2MASS" type="radio"   name="survey" value="P/2MASS/color"><label for="2MASS">2MASS</label><br>'')')
      write(lu_out,'(''<input id="Spitzer/IRAC134" type="radio"   name="survey" value="Spitzer/IRAC134">'',
     &               ''<label for="Spitzer/IRAC134">Spitzer/IRAC134</label><br>'')')
      write(lu_out,'(''<input id="Herschel/SPIRE250" type="radio" name="survey" value="Herschel/SPIRE250">'',
     &               ''<label for="Herschel/color">Herschel/SPIRE250</label><br>'')')
c      write(lu_out,'(''<input id="Herschel/color" type="radio" name="survey" value="Herschel/color">'',
c     &               ''<label for="Herschel/color">Herschel/color</label><br>'')')
      write(lu_out,'(''<br><b><center>Optical surveys</center></b><br>'')')
      write(lu_out,'(''<input id="DSS2" type="radio"   name="survey" value="P/DSS2/color" checked="checked"><label for="DSS2">DSS2</label><br>'')')
      IF ( dec_center > -31.) THEN 
         write(lu_out,'(''<input id="PANSTARRS" type="radio"   name="survey" value="P/PanSTARRS/DR1/color-z-zg-g">'',
     &                  ''<label for="P/PanSTARRS/DR1/color">PanSTARRS-DR1</label><br>'')')
      ENDIF
      IF ( dec_center > -8.) THEN 
         write(lu_out,'(''<input id="SDSS9" type="radio"   name="survey" value="P/SDSS9/color"><label for="SDSS9">SDSS9</label><br>'')')
      ENDIF
      IF ( ( (dec_center < 35.) .AND. (dec_center > -10.) ) .AND. ( (ra_center > 100.) .AND. (ra_center < 280.) ) ) THEN 
         write(lu_out,'(''<input id="DECaLS/DR5/color"   type="radio" name="survey" value="DECaLS/DR5/color"><label for="DECaLS-DR5">DECaLS-DR5</label><br>'')')
      ENDIF
      IF ( (dec_center > 30.) .AND. ( (ra_center > 100.) .AND. (ra_center < 280.) ) ) THEN 
         write(lu_out,'(''<input id="BASS/DR3/image"   type="radio" name="survey" value="BASS/DR3/image"><label for="BASS/DR3">BASS-DR3</label><br>'')')
      ENDIF
      IF ( dec_center > -28.) THEN 
         write(lu_out,'(''<input id="ZTF/DR7/color"   type="radio" name="survey" value="ZTF/DR7/color"><label for="ZTF/DR7/color">ZTF-DR7</label><br>'')')
      ENDIF
      IF ( (dec_center < 2.) .AND. (dec_center > -30.) ) THEN 
            write(lu_out,'(''<input id="MAMA color"   type="radio" name="survey" value="MAMA color"><label for="MAMA color">MAMA</label><br>'')')
      ENDIF
      IF (dec_center < 0.) THEN 
         write(lu_out,'(''<input id="SkyMapper" type="radio"   name="survey" value="SkyMapper"><label for="Skymapper">SkyMapper-DR1</label><br>'')')
      ENDIF
      write(lu_out,'(''<br><b><center>UV surveys</center></b><br>'')')
c      write(lu_out,'(''<input id="GALEX" type="radio"  name="survey" value="P/GALEXGR6/AIS/color"><label for="GALEX">GALEX</label><br>'')')
      write(lu_out,'(''<input id="GALEXGR6_7" type="radio"  name="survey" value="GALEXGR6_7"><label for="GALEXGR6_7">GALEXGR6-7</label><br>'')')
      write(lu_out,'(''<br><b><center>X-ray surveys</center></b><br>'')')
      write(lu_out,'(''<input id="Swift-XRT" type="radio"  name="survey" value="Swift/XRT/OpenUniverse color"><label for="Swift-XRT">Swift-XRT</label><br>'')')
      write(lu_out,'(''<input id="XMM-PN" type="radio"  name="survey" value="XMM/PN/color"><label for="XMM/PN/color">XMM-PN</label><br>'')')
      write(lu_out,'(''<input id="Chandra" type="radio"  name="survey" value="Chandra color"><label for="Chandra color">Chandra</label><br>'')')
      write(lu_out,'(''<input id="RASS" type="radio"  name="survey" value="P/RASS"><label for="P/RASS">RASS</label><br>'')')
      write(lu_out,'(''<input type="radio" name="survey" id="erass1_rgb" value="eRASS1" /><label for="erass1_rgb">eRASS1</label><br>'')') 
      write(lu_out,'(''<input id="Swift-BAT" type="radio"  name="survey" value="Swift-BAT"><label for="Swift-BAT">Swift-BAT(14-20keV)</label><br>'')')
      write(lu_out,'(''<input id="MAXI-GSC" type="radio"  name="survey" value="MAXI-GSC"><label for="MAXI-GSC">MAXI-GSC</label><br>'')')
      write(lu_out,'(''<br><b><center>&gamma;-ray surveys</center></b><br>'')')
      write(lu_out,'(''<input id="Fermi-LAT" type="radio"  name="survey" value="P/Fermi/color"><label for="P/Fermi/color">Fermi-LAT</label><br>'')')
      write(lu_out,'(''</td></tr><tr><td> <center>'')')
      write(lu_out,'(''<input id="CONSTELLAIONS3" type="radio"  name="survey" value="CONSTELLATIONS3"><label for="Constellations">Constellations</label>'')')
      write(lu_out,'(''Projection <select name="projection"><option>aitoff</option><option selected>sin</option></select>'')')
c      write(lu_out,'(''<input id="AITOFF" type="radio" name="projection" value="aitoff"><label for="AIT">Aitoff projection</label>'')')
c      write(lu_out,'(''<input id="SIN" type="radio" name="projection" value="sin"><label for="SIN">SIN projection</label>'')')
c      write(lu_out,'(''<input id="CONSTELLAIONS6" type="radio"  name="survey" value="CONSTELLATIONS6"><label for="Constellations6">Constellations-6</label>'')')
      write(lu_out,'(''</center> </td> </tr>'')')
      write(lu_out,'(''</table></sm></fieldset>'')')
      write(lu_out,'(''<script type="text/javascript">'')')
      i = 0
      DO WHILE(ok)
         READ(lu_in,*,end=98) ra,dec,ii,radius
         radius= radius/3600.
         ia = abs(ii)/1000
         i = i +1 
         IF (i == 1) THEN 
            IF (ra_center > 99.999) THEN 
            write(lu_out,'(''var aladin = $.aladin("#aladin-lite-div", {survey: '',a,''P/DSS/colored''
     &                  ,a,'', showSimbadPointerControl: true,''
     &                  ''fov:0.2,target:'',a,f8.4,1x,f9.4,a,a,'');'')')a1,a1,a1,ra_center,dec_center,a1,a2
            ELSE IF (ra_center > 9.999) THEN 
            write(lu_out,'(''var aladin = $.aladin("#aladin-lite-div", {survey: '',a,''P/DSS/colored''
     &                  ,a,'', showSimbadPointerControl: true,''
     &                  ''fov:0.2,target:'',a,f7.4,1x,f9.4,a,a,'');'')')a1,a1,a1,ra_center,dec_center,a1,a2
            ELSE
            write(lu_out,'(''var aladin = $.aladin("#aladin-lite-div", {survey: '',a,''P/DSS/colored''
     &                  ,a,'', showSimbadPointerControl: true,''
     &                  ''fov:0.2,target:'',a,f6.4,1x,f9.4,a,a,'');'')')a1,a1,a1,ra_center,dec_center,a1,a2
            ENDIF
            write(lu_out,'(''hipsDir = "https://openuniverse.asi.it/SwiftXRT4OU/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''hipsDir = hipsDir+'',a,''/outSwiftHiPS_ALLupAug2020-RGB/'',a,'';'')')a1,a1
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''Swift/XRT/OpenUniverse color'',a,
     &          '','',a,''Swift/XRT/OpenUniverse color'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',7,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1
            write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/NVSS/intensity/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''NVSS'',a,
     &          '','',a,''NVSS'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',5,{imgFormat:'',a,''jpg'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''cubehelix'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://archive-new.nrao.edu/vlass/HiPS/VLASS2.2/Quicklook/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''VLASS2.2'',a,
     &          '','',a,''VLASS2.2'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',9,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://archive-new.nrao.edu/vlass/HiPS/VCSS1/Images_vcss1_HiPS/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''VCSS1'',a,
     &          '','',a,''VCSS1'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',8,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://archive-new.nrao.edu/vlass/HiPS/VLASS_Epoch1/Quicklook/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''VLASS_Epoch1'',a,
     &          '','',a,''VLASS_Epoch1'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',9,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://casda.csiro.au/hips/RACS/low/I/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''RACS'',a,
     &          '','',a,''VLASS_Epoch1'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',8,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/DECaLS/DR5/color/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''DECaLS/DR5/color'',a,
     &          '','',a,''DECaLS/DR5/color'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',11,{imgFormat:'',a,''jpg'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "http://skymapper.anu.edu.au/CDS_P_skymapper-color/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''SkyMapper'',a,
     &          '','',a,''SkyMapper'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',9,{imgFormat:'',a,''jpg'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/RASS/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''P/RASS'',a,
     &          '','',a,''RASS'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',4,{imgFormat:'',a,''jpg'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://catsweb.oas.inaf.it/RASS_P/rgb/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''eRASS1'',a,
     &          '','',a,''erass1_rgb'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',4,{imgFormat:'',a,''jpg'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/RASS/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''P/RASS'',a,
     &          '','',a,''RASS'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',4,{imgFormat:'',a,''jpg'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://erosita.mpe.mpg.de/ExposureHiPS/eRASS3/946/eROSITA_exposure_021/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''eROSITA exposure'',a,
     &          '','',a,''eROSITA exposure'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',5,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/SUMSS/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''SUMSS'',a,
     &          '','',a,''SUMSS'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',6,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/SSC/xcatdb_P_XMM_PN_color/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''XMM/PN/color'',a,
     &          '','',a,''XMM/PN/color'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',7,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/CHANDRA/cxc.harvard.edu_P_cda_hips_allsky_rgb/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''Chandra color'',a,
     &          '','',a,''Chandra color'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',11,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://data.darts.isas.jaxa.jp/pub/HiPS/MAXI-GSC_Image/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''MAXI-GSC'',a,
     &          '','',a,''MAXI-GSC'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',3,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://data.darts.isas.jaxa.jp/pub/HiPS/SWIFT-BAT_Image/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''Swift-BAT image'',a,
     &          '','',a,''Swift-BAT image'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',6,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "http://cade.irap.omp.eu/documents/Ancillary/4Aladin/BAT_14_20/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''Swift-BAT'',a,
     &          '','',a,''Swift-BAT'',a,'',hipsDir,'',a,
     &          ''galactic'',a,'',3,{imgFormat:'',a,''jpg'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''cubehelix'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/JAXA/JAXA_P_CONSTELLATIONS3/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''CONSTELLATIONS3'',a,
     &          '','',a,''CONSTELLATIONS3'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',6,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

            write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/JAXA/JAXA_P_CONSTELLATIONS6/";'')')
            write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
            write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''CONSTELLATIONS6'',a,
     &          '','',a,''CONSTELLATIONS6'',a,'',hipsDir,'',a,
     &          ''equatorial'',a,'',6,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
            write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/ZTF/DR7/CDS_P_ZTF_DR7_g/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''ZTF/DR7/color'',a,
     &            '','',a,''ZTF/DR7/color'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',9,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/China-VO/China-VO_P_BASS_DR3_image/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''BASS/DR3/image'',a,
     &            '','',a,''BASS/DR3/image'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',10,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/ESAC/ESAVO_P_HST_WFPC/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''HST/WFPC'',a,
     &            '','',a,''HST/WFPC'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',13,{imgFormat:'',a,''jpg'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/MAMA/CDS_P_MAMA_color_posse_srcj/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''MAMA color'',a,
     &            '','',a,''MAMA color'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',10,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/ESAC/ESAVO_P_Herschel_color/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''Herschel/color'',a,
     &            '','',a,''Herschel/color'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',8,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/ESAC/ESAVO_P_HERSCHEL_SPIRE250/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''Herschel/SPIRE250'',a,
     &            '','',a,''Herschel/SPIRE250'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',8,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "https://alaskybis.cds.unistra.fr/ESAC/ESAVO_P_Spitzer_IRAC134-RGB-bright/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''Spitzer/IRAC134'',a,
     &            '','',a,''Spitzer/IRAC134'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',10,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "http://hips.canfar.net/CDS_P_HST_wideV/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''HST_wideV'',a,
     &            '','',a,''HST_wideV'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',13,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''native'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "https://tgssadr.strw.leidenuniv.nl/hips/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''TGSS ADR'',a,
     &            '','',a,''TGSS ADR'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',13,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

              write(lu_out,'(''hipsDir = "http://alasky.cds.unistra.fr/GALEX/GALEXGR6_7_color/";'')')
              write(lu_out,'(''hipsDir = hipsDir.substring(0,hipsDir.lastIndexOf("/",hipsDir.length));'')')
              write(lu_out,'(''aladin.setImageSurvey(aladin.createImageSurvey('',a,''GALEXGR6_7'',a,
     &            '','',a,''GALEXGR6_7'',a,'',hipsDir,'',a,
     &            ''equatorial'',a,'',9,{imgFormat:'',a,''png'',a,''}));'')') a1,a1,a1,a1,a1,a1,a1,a1
              write(lu_out,'(''aladin.getBaseImageLayer(hipsDir).getColorMap(hipsDir).update('',a,''rainbow'',a,'');'')')a1,a1

            write(lu_out,'(''aladin.setBaseImageLayer('',a,''P/DSS/colored'',a,'')'')') a1,a1 

            DO WHILE (ok) 
                 read (lu_script,'(a)',end=97) string
                 write(lu_out,'(a)') string(1:lenact(string))
            ENDDO
97          CONTINUE
            write(lu_out,'(''var overlay = A.graphicOverlay({color: '',a,''cyan'',a,'', lineWidth: 3});'')') a1,a1
            write(lu_out,'(''aladin.addOverlay(overlay);'')')
         ENDIF
         IF (ia == 1) THEN
              write(lu_out,'(''overlay.add(A.circle('',f9.4,1x,'','',f9.4,'', '',f9.5,'', ''
     &                    ,a,''color: '',a,''red'',a,a,'' ));'')') ra,dec,radius,a0,a1,a1,a2
         ELSE IF (ia == 5) THEN
            write(lu_out,'(''overlay.add(A.circle('',f9.4,1x,'','',f9.4,'', '',f9.5,'', ''
     &                    ,a,''color: '',a,''orange'',a,a,'' ));'')') ra,dec,radius,a0,a1,a1,a2
c     &                    ,a,''color: '',a,''aqua'',a,a,'' ));'')') ra,dec,radius,a0,a1,a1,a2
         ELSE IF (ia == 6) THEN
            write(lu_out,'(''overlay.add(A.circle('',f9.4,1x,'','',f9.4,'', '',f9.5,'', ''
     &                    ,a,''color: '',a,''silver'',a,a,'' ));'')') ra,dec,radius,a0,a1,a1,a2
         ELSE IF (ia == 7) THEN
                 write(lu_out,'(''overlay.add(A.circle('',f9.4,1x,'','',f9.4,'', '',f9.5,'', ''
     &                    ,a,''color: '',a,''aquamarine'',a,a,'' ));'')') ra,dec,radius,a0,a1,a1,a2
         ELSE IF (ia == 8) THEN
            write(lu_out,'(''overlay.add(A.circle('',f9.4,1x,'','',f9.4,'', '',f9.5,'', ''
     &                    ,a,''color: '',a,''#1a1aff'',a,a,'' ));'')') ra,dec,radius,a0,a1,a1,a2
         ELSE IF (ia == 9) THEN
            write(lu_out,'(''overlay.add(A.circle('',f9.4,1x,'','',f9.4,'', '',f9.5,'', ''
     &                    ,a,''color: '',a,''BlueViolet'',a,a,'' ));'')') ra,dec,radius,a0,a1,a1,a2
         ENDIF
      ENDDO 

 98   CONTINUE
c      DO WHILE(ok)
c         READ(lu_in2,*,end=99) ra2,dec2,dummy,dummy
c         write(lu_out,'(''cat.addSources([A.source('',f9.4,1x,'','',f9.4,'','',
c     &         a,''name: '',a,'' Nr. '',i3,a,a,'')]);'')') ra2,dec2,a0,a1,source_number,a1,a2
c      ENDDO
c 99   CONTINUE

      write(lu_out,'(''$("input[name=survey]").change(function() {'')')
      write(lu_out,'(''   aladin.setImageSurvey($(this).val());'')')
      write(lu_out,'(''});'')')
      write(lu_out,'(''$("select[name=projection]").change(function() {'')')
      write(lu_out,'(''   aladin.setProjection($(this).val());'')')
      write(lu_out,'(''});'')')

      write(lu_out,'(''</script>'')')
      write(lu_out,'(''<script type="text/javascript">'')')
      write(lu_out,'(''document.getElementById("hipsBase").innerHTML=hips'')')
      write(lu_out,'(''</script>'')')
      write(lu_out,'(''</HTML>'')')
      END
